<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-02-20 Sat 19:12 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>org 测试</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="杨 睿" />
<link rel="stylesheet" type="text/css" href="https://yangruigit.gitee.io/my_blogs/lib/themes/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://yangruigit.gitee.io/my_blogs/lib/themes/readtheorg.css"/>
<script src="https://yangruigit.gitee.io/my_blogs/lib/themes/jquery.min.js"></script>
<script src="https://yangruigit.gitee.io/my_blogs/lib/themes/bootstrap.min.js"></script>
<script type="text/javascript" src="https://yangruigit.gitee.io/my_blogs/lib/themes/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://yangruigit.gitee.io/my_blogs/lib/themes/readtheorg.js"></script>
<link href="https://raw.githubusercontent.com/kaushalmodi/.emacs.d/master/misc/css/leuven_theme.css" rel="stylesheet">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">org 测试</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org78d9d98">1. adadad</a></li>
<li><a href="#org3a71ec3">2. test&#xa0;&#xa0;&#xa0;<span class="tag"><span class="test">test</span></span></a></li>
</ul>
</div>
</div>


<div id="outline-container-org78d9d98" class="outline-2">
<h2 id="org78d9d98"><span class="section-number-2">1</span> adadad</h2>
<div class="outline-text-2" id="text-1">
<p>
balabala
</p>
</div>
</div>

<div id="outline-container-org3a71ec3" class="outline-2">
<h2 id="org3a71ec3"><span class="section-number-2">2</span> test&#xa0;&#xa0;&#xa0;<span class="tag"><span class="test">test</span></span></h2>
<div class="outline-text-2" id="text-2">
<p>
balabala
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Checked.</li>
<li class="trans"><code>[-]</code> Half-checked.</li>
<li class="off"><code>[&#xa0;]</code> Not checked.</li>
<li>Normal list item.</li>
</ul>

<div class="org-src-container">
<pre class="src src-latex">a = b^2_1
</pre>
</div>

\begin{equation}
x=\sqrt{b}
\end{equation}


<div class="warning" id="org9840bd6">
<p>
Be careful!  Check that you have&#x2026;
</p>

</div>


<div class="note" id="org7dfde37">
<p>
This is a useful note.
</p>

</div>

<div class="tip" id="orgad7492a">
<p>
Try doing it this way&#x2026;
</p>

</div>

<dl class="org-dl">
<dt>testdasdad</dt><dd>dadadasd</dd>
</dl>

<div class="seealso" id="orgf6fa5af">
<dl class="org-dl">
<dt><a href="http://en.wikipedia.org/wiki/Apple">Apples</a></dt><dd>A kind of <a href="http://en.wikipedia.org/wiki/Fruit">fruit</a>.</dd>
</dl>

</div>


<pre class="example" id="org137e819">
10/17/97   9:04         &lt;DIR&gt;    bin
10/16/97  14:11         &lt;DIR&gt;    DOS
10/16/97  14:46         &lt;DIR&gt;    TEMP
10/16/97  14:37         &lt;DIR&gt;    WINNT
10/16/97  14:25             119  AUTOEXEC.BAT
 2/13/94   6:21          54,619  COMMAND.COM
</pre>


<p>
The formula \(a^2 + b^2 = c^2\) has been discovered by Pythagoras.
</p>

<p>
Let \(a=\sin(x) + \cos(x)\). Then \(a^2 = 2\sin(x)\cos(x)\) because \(\sin^2x +
\cos^2x = 1\).
</p>

<p>
It is possible to define named footnotes<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>, or ones with automatic
anchors<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>.
</p>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #7590db;">a</span> = <span style="color: #a45bad;">1</span>
<span style="color: #7590db;">b</span> = <span style="color: #a45bad;">2</span>
<span style="color: #4f97d7; font-weight: bold;">print</span><span style="color: #4f97d7;">(</span>a+b<span style="color: #4f97d7;">)</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-go"><span style="color: #4f97d7; font-weight: bold;">var</span> <span style="color: #4f97d7;">(</span>
  <span style="color: #7590db;">AIOInstStatusUnknown</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">0</span>
  <span style="color: #7590db;">AIOInstStatusRunning</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">1</span>
  <span style="color: #7590db;">AIOInstStatusStopped</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">2</span>
  <span style="color: #7590db;">AIOInstStatusFailed</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">3</span>

  <span style="color: #7590db;">AIOInstStatusInitializing</span>     <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">11</span>
  <span style="color: #7590db;">AIOInstStatusInitializeFailed</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">12</span>
  <span style="color: #7590db;">AIOInstStatusQueueing</span>         <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">13</span>

  <span style="color: #7590db;">AIOInstStatusStopping</span>   <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">21</span>
  <span style="color: #7590db;">AIOInstStatusStopFailed</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">22</span>

  <span style="color: #7590db;">AIOExportRunning</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">31</span>
  <span style="color: #7590db;">AIOExportSuccess</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">32</span>
  <span style="color: #7590db;">AIOExportFailed</span> <span style="color: #ce537a; font-weight: bold;">uint32</span> = <span style="color: #a45bad;">33</span>
<span style="color: #4f97d7;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-*- coding: utf-8 -*-</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">@File : gen_index.py</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">@Author : r.yang</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">@Date : Fri Feb 19 18:11:08 2021</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">@Description : format string</span>

<span style="color: #4f97d7; font-weight: bold;">import</span> os
<span style="color: #4f97d7; font-weight: bold;">import</span> sys
<span style="color: #4f97d7; font-weight: bold;">from</span> collections <span style="color: #4f97d7; font-weight: bold;">import</span> defaultdict
<span style="color: #4f97d7; font-weight: bold;">import</span> datetime

<span style="color: #7590db;">CURRENT_DIR</span> = os.path.dirname<span style="color: #4f97d7;">(</span>os.path.abspath<span style="color: #bc6ec5;">(</span>__file__<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #7590db;">HEADER</span> = <span style="color: #2d9574;">"""</span>
<span style="color: #2d9574;">#+OPTIONS: ^:nil</span>
<span style="color: #2d9574;">#+ATTR_LATEX: :width 5cm :options angle=90</span>
<span style="color: #2d9574;">#+TITLE: &#32034;&#24341;</span>
<span style="color: #2d9574;">#+AUTHOR: &#26472; &#30591;</span>
<span style="color: #2d9574;">#+EMAIL: yangruipis@163.com</span>
<span style="color: #2d9574;">#+KEYWORDS: index</span>
<span style="color: #2d9574;">#+OPTIONS: H:4 toc:t</span>
<span style="color: #2d9574;">#+SETUPFILE: https://gitee.com/yangruigit/my_blogs/raw/master/lib/theme-readtheorg.setup</span>
<span style="color: #2d9574;">"""</span>


<span style="color: #4f97d7; font-weight: bold;">def</span> <span style="color: #bc6ec5; font-weight: bold;">extract_abs</span><span style="color: #4f97d7;">(</span>path<span style="color: #4f97d7;">)</span>:
<span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">lines</span> = <span style="color: #4f97d7;">open</span><span style="color: #4f97d7;">(</span>path<span style="color: #4f97d7;">)</span>.read<span style="color: #4f97d7;">()</span>.splitlines<span style="color: #4f97d7;">()</span>
<span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">newlines</span> = <span style="color: #4f97d7;">[]</span>
<span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">for</span> line <span style="color: #4f97d7; font-weight: bold;">in</span> lines:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">if</span> line.startswith<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">"*"</span><span style="color: #4f97d7;">)</span> <span style="color: #4f97d7; font-weight: bold;">or</span> line.startswith<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">"#"</span><span style="color: #4f97d7;">)</span> <span style="color: #4f97d7; font-weight: bold;">or</span> line.strip<span style="color: #4f97d7;">()</span> == <span style="color: #2d9574;">""</span>:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">continue</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">else</span>:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   newlines.append<span style="color: #4f97d7;">(</span>line<span style="color: #4f97d7;">)</span>
<span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">newlines</span> = newlines<span style="color: #4f97d7;">[</span>:<span style="color: #a45bad;">3</span><span style="color: #4f97d7;">]</span>
<span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">if</span> newlines:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"\n"</span>.join<span style="color: #4f97d7;">(</span>newlines<span style="color: #4f97d7;">)[</span>:<span style="color: #a45bad;">200</span><span style="color: #4f97d7;">]</span>
<span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">""</span>


<span style="color: #4f97d7; font-weight: bold;">def</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #4f97d7;">()</span>:
<span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">index_txt</span> = HEADER
<span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">src_dir</span> = os.path.join<span style="color: #4f97d7;">(</span>CURRENT_DIR, <span style="color: #2d9574;">'../src'</span><span style="color: #4f97d7;">)</span>

<span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">for</span> root, dirs, files <span style="color: #4f97d7; font-weight: bold;">in</span> os.walk<span style="color: #4f97d7;">(</span>src_dir<span style="color: #4f97d7;">)</span>:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">eles</span> = root.split<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">"src"</span><span style="color: #4f97d7;">)[</span>-<span style="color: #a45bad;">1</span><span style="color: #4f97d7;">]</span>.split<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">"/"</span><span style="color: #4f97d7;">)</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">eles</span> = <span style="color: #4f97d7;">[</span>i <span style="color: #4f97d7; font-weight: bold;">for</span> i <span style="color: #4f97d7; font-weight: bold;">in</span> eles <span style="color: #4f97d7; font-weight: bold;">if</span> i.strip<span style="color: #bc6ec5;">()</span><span style="color: #4f97d7;">]</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">if</span> eles:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">index_txt</span> += <span style="color: #4f97d7;">(</span><span style="color: #2d9574;">"*"</span> * <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7;">len</span><span style="color: #2d9574;">(</span>eles<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span> + <span style="color: #2d9574;">" {}"</span>.<span style="color: #4f97d7;">format</span><span style="color: #bc6ec5;">(</span>eles<span style="color: #2d9574;">[</span>-<span style="color: #a45bad;">1</span><span style="color: #2d9574;">]</span><span style="color: #bc6ec5;">)</span> + <span style="color: #2d9574;">"\n"</span><span style="color: #4f97d7;">)</span>

<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">star_len</span> = <span style="color: #4f97d7;">len</span><span style="color: #4f97d7;">(</span>eles<span style="color: #4f97d7;">)</span> + <span style="color: #a45bad;">1</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">for</span> file_ <span style="color: #4f97d7; font-weight: bold;">in</span> files:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">if</span> file_.endswith<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">".org"</span><span style="color: #4f97d7;">)</span>:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">path</span> = os.path.join<span style="color: #4f97d7;">(</span>root, file_<span style="color: #4f97d7;">)</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">ts</span> = os.stat<span style="color: #4f97d7;">(</span>path<span style="color: #4f97d7;">)</span>.st_mtime
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">date</span> = datetime.datetime.fromtimestamp<span style="color: #4f97d7;">(</span>ts<span style="color: #4f97d7;">)</span>

<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">title</span> = <span style="color: #2d9574;">" [{}] {}"</span>.<span style="color: #4f97d7;">format</span><span style="color: #4f97d7;">(</span>date.strftime<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"%Y-%m-%d"</span><span style="color: #bc6ec5;">)</span>,
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span> file_.replace<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">".org"</span>, <span style="color: #2d9574;">""</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">index_txt</span> += <span style="color: #2d9574;">"*"</span> * star_len + <span style="color: #2d9574;">" [[file:{}][{}]]"</span>.<span style="color: #4f97d7;">format</span><span style="color: #4f97d7;">(</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #2d9574;">"/"</span>.join<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">[</span><span style="color: #2d9574;">"./src"</span><span style="color: #2d9574;">]</span> + eles + <span style="color: #2d9574;">[</span>file_<span style="color: #2d9574;">]</span><span style="color: #bc6ec5;">)</span>, title<span style="color: #4f97d7;">)</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">index_txt</span> += <span style="color: #2d9574;">"\n"</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">index_txt</span> += extract_abs<span style="color: #4f97d7;">(</span>os.path.join<span style="color: #bc6ec5;">(</span>root, file_<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   <span style="color: #7590db;">index_txt</span> += <span style="color: #2d9574;">"\n"</span>
<span style="background-color: #292e34;"> </span>   <span style="color: #4f97d7; font-weight: bold;">with</span> <span style="color: #4f97d7;">open</span><span style="color: #4f97d7;">(</span><span style="color: #2d9574;">"./index.org"</span>, <span style="color: #2d9574;">"w"</span><span style="color: #4f97d7;">)</span> <span style="color: #4f97d7; font-weight: bold;">as</span> f:
<span style="background-color: #292e34;"> </span>   <span style="background-color: #292e34;"> </span>   f.write<span style="color: #4f97d7;">(</span>index_txt<span style="color: #4f97d7;">)</span>


<span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #4f97d7;">__name__</span> == <span style="color: #2d9574;">"__main__"</span>:
<span style="background-color: #292e34;"> </span>   main<span style="color: #4f97d7;">()</span>

</pre>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
Extensively used in large documents.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: 杨 睿</p>
<p class="date">Created: 2021-02-20 Sat 19:12</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
